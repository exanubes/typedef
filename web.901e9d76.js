var e,t=globalThis,r={},o={},s=t.parcelRequire0939;null==s&&((s=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var s={id:e,exports:{}};return r[e]=s,t.call(s.exports,s,s.exports),s.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){o[e]=t},t.parcelRequire0939=s),s.register;let n=Object.freeze({LIGHT:"light",DARK:"dark"});function a(e){return e===n.DARK?n.LIGHT:n.DARK}class i extends Error{constructor(){super("Failed to save theme to localstorage")}}let c={golang:"golang",jsdoc:"jsdoc",typescript:"typescript",zod:"zod"},l={json:"json"};class d extends Error{constructor(e){super(`Expected one of: ${Object.keys(c).join(", ")}, received: '${e}'`)}}class u extends Error{constructor(e){super(`Expected one of: ${Object.keys(l).join("|")}, received: '${e}'`)}}class p extends Error{constructor(e){super(`Input value cannot exceed ${e}`)}}class m extends Error{constructor(e,t){super(`Invalid ${e} syntax`,{cause:t})}}class g extends Error{constructor(e,t){super(e,{cause:t})}}let v={create(e){let t=new FormData(e);return{input_type:()=>{let e=t.get("input_type").trim();if(!Object.keys(l).includes(e))throw new u(e);return e},input:()=>{let e=t.get("structure-input").trim();if(e.length>1e4)throw new p(1e4);try{JSON.parse(e)}catch(e){throw new m("json",e)}return e},format:()=>{let e=t.get("format").trim();if(!Object.keys(c).includes(e))throw new d(e);return e}}}};function h(){let e={type:"",msg:""};return{with_type(t){return e.type=t,this},with_message(t){return e.msg=t,this},build:()=>{var t;let r,o,s,n,a;return"error"!==e.type&&"success"!==e.type?[E,Error(`Expected type to be "success" or "error", received: ${e.type}`)]:""===e.msg?[E,Error("Notification cannot have an empty message")]:[(t=e,r=!0,(o=document.createElement("div")).className=`toast toast--${t.type}`,o.setAttribute("role","alert"),s="success"===t.type?y():f(),o.innerHTML=`
            ${s}
            <span class="toast__message">${t.msg}</span>
            <button class="toast__close" aria-label="Close notification">
                ${w()}
            </button>
        `,n=o.querySelector(".toast__close"),a=()=>{r?(o.classList.remove("toast--visible"),o.classList.add("toast--removing"),o.addEventListener("animationend",()=>{o.remove(),r=!1},{once:!0})):console.warn("Notification is already closed!: '%s'",t.msg)},n&&n.addEventListener("click",()=>{n.setAttribute("disabled","true"),a()}),{html:()=>o,value:()=>o.innerHTML,active:()=>r,close:a}),null]}}}let y=()=>`
        <svg class="toast__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22 4 12 14.01 9 11.01"></polyline>
        </svg>
    `,f=()=>`
        <svg class="toast__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="15" y1="9" x2="9" y2="15"></line>
            <line x1="9" y1="9" x2="15" y2="15"></line>
        </svg>
    `,w=()=>`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
    `,E={html:()=>document.createElement("div"),value:()=>"",is_active:()=>!1,close(){}},b="notification-container";var x={};e="worker.41b28b9f.js",e=s.i?.[e]||e,x=import.meta.resolve("./"+e);let _=1;document.addEventListener("DOMContentLoaded",()=>{var e,t,r,o,s,c,l,y,f,w,E;let j,k,L,I,$,A,T,D,O,R,S=(e="typedef-theme-preference",t={load:()=>{try{let t=localStorage.getItem(e);return t===n.LIGHT||t===n.DARK?t:null}catch{return null}},save:t=>{try{localStorage.setItem(e,t)}catch{new i}}},k=window.matchMedia("(prefers-color-scheme: dark)"),r={current:()=>k.matches?n.DARK:n.LIGHT,on_change:e=>{k.addEventListener("change",t=>{e(t.matches?n.DARK:n.LIGHT)})}},L=document.documentElement,o={apply:(e,t)=>{t&&L.classList.add("theme-transition"),L.setAttribute("data-theme",e),t&&setTimeout(()=>L.classList.remove("theme-transition"),300)},update_toggle:e=>{let t=document.getElementById("theme-toggle");if(!t)return;let r=a(e);t.setAttribute("aria-label",`Switch to ${r} theme`),t.setAttribute("aria-pressed",String(e===n.DARK))}},I="",{start:()=>{I=t.load()||r.current(),o.apply(I,!1),o.update_toggle(I),r.on_change(e=>{t.load()||(I=e,o.apply(e,!0),o.update_toggle(e))})},toggle:()=>{I=a(I),t.save(I),o.apply(I,!0),o.update_toggle(I)}}),B=(E=b,(j=document.getElementById(E))||((j=document.createElement("div")).id=b,j.className="toast-container",j.setAttribute("aria-live","polite"),j.setAttribute("aria-atomic","false"),document.body.appendChild(j)),$=j,A=new Set,s=Object.freeze({add(e){let t=e.html();$.appendChild(t),t.offsetHeight,t.classList.add("toast--visible"),A.add(e)},remove(e){A.has(e)&&(e.close(),A.delete(e))},clear(){for(let e of A)e.close(),A.delete(e)}}),{show_success:e=>{let[t,r]=h().with_type("success").with_message(e).build();r?T(`Error creating notification: ${r.message}`):(s.add(t),setTimeout(()=>{s.remove(t)},1e4))},show_error:T=e=>{let[t,r]=h().with_type("error").with_message(e).build();r?T(`Error creating notification: ${r.message}`):(s.add(t),setTimeout(()=>{s.remove(t)},1e4))},dismiss_all:s.clear}),C=(D=new Worker(new URL(x),{type:"module"}),O=new Map,D.addEventListener("message",e=>{let t=JSON.parse(e.data),r=O.get(t.id);r&&(t.error?r.reject(t.error):r.resolve(t))}),D.addEventListener("error",e=>{for(let{reject:t}of O.values())t(e);O.clear()}),c={send:async(e,t=5e3)=>new Promise((r,o)=>{if(O.has(e.id))throw Error(`Duplicate request id ${e.id}`);let s=setTimeout(()=>{O.delete(e.id),o(Error("RPC timeout"))},t);O.set(e.id,{resolve:t=>{clearTimeout(s),O.delete(e.id),r(t)},reject:t=>{clearTimeout(s),O.delete(e.id),o(t)}}),D.postMessage(e)}),close(){for(let{reject:e}of O.values())e(Error("Worker terminated."));O.clear(),D.terminate()}},l={async send(e){try{let t={method:"codegen",jsonrpc:"2.0",params:e,id:_++},r=await c.send(t);return{status:"ok",data:function(e){if(!("jsonrpc"in e))throw Error('Missing required param "jsonrpc"');if("string"!=typeof e.jsonrpc)throw Error(`Invalid jsonrpc type. Expected string, received ${typeof e.jsonrpc}`);if("2.0"!==e.jsonrpc)throw Error(`Invalid rpc version. Expected 2.0, received ${e.jsonrpc}`);if("number"!=typeof e.id)throw Error(`Invalid id type. Expected number, received ${typeof e.jsonrpc}`);if(e.error&&"number"!=typeof e.error.code)throw Error(`Invalid error code type. Expected number, received ${typeof e.jsonrpc}`);return{code:e.result.code,format:e.result.format}}(r)}}catch(e){return{status:"error",err:Error("Error while making request",{cause:e})}}}},y={execute:async e=>{try{let t=await l.send({input_type:e.input_type(),input:e.input(),format:e.format()});if("error"===t.status)return[{code:"",format:-1},new g(t.message)];return[t.data,null]}catch(e){if([u,d,p,m].some(t=>e instanceof t))return[{code:"",format:-1},e];return[{code:"",format:-1},new g("Unhandled exception",e)]}}},{start:(e,t)=>{e.addEventListener("submit",async e=>{try{e.preventDefault(),t.setAttribute("disabled","true");let[r,o]=await y.execute(v.create(e.target));if(o){B.show_error(o.message||"Failed to generate code"),t.removeAttribute("disabled");return}document.getElementById("output-code").innerText=r.code,B.show_success("Code generated successfully!"),t.removeAttribute("disabled")}catch(e){B.show_error(e.message)}})}}),H=(f=navigator.clipboard,w={save:e=>f.writeText(e)},{start:e=>{e.addEventListener("click",async()=>{let e=document.getElementById("output-code").innerText;w.save(e),B.show_success("Saved to clipboard!")})}});(R=document.getElementById("theme-toggle"))&&R.addEventListener("click",()=>{S.toggle()}),S.start(),H.start(document.getElementById("copy-btn")),C.start(document.querySelector("form"),document.getElementById("transform-btn"))});
//# sourceMappingURL=web.901e9d76.js.map
